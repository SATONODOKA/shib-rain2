# 営業ナレッジベース RAGシステム

法人向け研修事業の営業支援AIアシスタントです。PC上のサンプルフォルダの内容をRAG化し、LM Studio上のGPT OSSと連携して動的な回答生成を行います。

## 🚀 主な機能

- **RAG検索**: 営業関連ドキュメントの高速検索
- **AI回答生成**: GPT OSSによる動的な回答生成
- **美しいUI**: Streamlitによる直感的なインターフェース
- **高速処理**: 最適化されたプロンプトで瞬時応答

## 🛠️ システム要件

- Python 3.8+
- LM Studio (最新版推奨)
- GPT OSS 20Bモデル
- 8GB以上のRAM（推奨16GB）

## 📦 インストール

```bash
# 依存関係のインストール
pip install -r requirements.txt

# サンプルドキュメントの確認
ls sample_documents/
```

## 🚀 起動方法

### 1. LM Studioの起動

```bash
# LM Studio起動スクリプト
python3 start_lm_studio_api.py

# または手動で起動
# 1. LM Studioアプリを開く
# 2. Local Serverタブをクリック
# 3. Start Serverボタンをクリック
# 4. ポート1234で起動することを確認
```

### 2. RAGシステムの起動

```bash
# メインアプリケーション
streamlit run rag_system.py
```

## 🔧 設定

### LM Studio設定

- **ポート**: 1234
- **モデル**: gpt-oss-20b
- **API**: 有効化
- **Local Server**: 自動起動

### システム設定

- **チャンクサイズ**: 1000文字
- **チャンクオーバーラップ**: 200文字
- **検索結果数**: 5件
- **タイムアウト**: 15秒

## 📚 使用方法

### 基本的な質問

1. メインエリアに営業に関する質問を入力
2. 「🔍 質問する」ボタンをクリック
3. AIが関連情報を検索して回答を生成

### 質問例

**価格・料金系**
- 新任管理職研修の料金は？
- 研修の費用対効果は？

**顧客情報系**
- トヨタ自動車様の課題は？
- 大成建設様への提案内容は？

**競合・差別化系**
- 競合他社との差別化ポイントは？
- 建設業界向けの研修内容は？

## 🔍 トラブルシューティング

### タイムアウトエラー

1. **LM Studioの接続確認**
   - Local Serverタブで「Start Server」が有効か確認
   - ポート1234が使用可能か確認

2. **モデルの読み込み状況確認**
   - LM Studioでモデルが完全に読み込まれているか確認
   - メモリ使用量を確認

### 接続エラー

1. **LM Studioの起動確認**
   - Local Serverタブで「Start Server」が有効か確認
   - ポート1234が使用可能か確認

2. **ファイアウォール設定**
   - localhost:1234へのアクセスが許可されているか確認

## 📊 パフォーマンス最適化

### 高速化のポイント

- **プロンプト最適化**: 極限までシンプルな指示
- **コンテキスト制限**: 上位2件のドキュメントのみ使用
- **トークン数制限**: max_tokensを150に最適化
- **タイムアウト短縮**: 15秒で高速応答

### メモリ使用量

- **埋め込みモデル**: multilingual-e5-small（軽量）
- **ベクトルDB**: ChromaDB（効率的）
- **チャンク分割**: 適切なサイズで分割

## 🔮 今後の開発予定

- [ ] ウェブ検索連携機能
- [ ] リアルタイムストリーミング表示
- [ ] 複数モデル対応
- [ ] 回答品質評価機能

## 📝 ライセンス

このプロジェクトはMITライセンスの下で公開されています。

## 🤝 貢献

バグ報告や機能提案は、GitHubのIssueでお知らせください。

---

**💡 ヒント**: より良い回答を得るには、具体的で明確な質問を心がけてください。 